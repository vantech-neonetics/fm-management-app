{"version":3,"file":"static/js/814.9cff1687.chunk.js","mappings":"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","sources":["ui-component/cards/SubCard.js","views/Setting/component/OperationSetting.js","views/Setting/component/SystemSetting.js","views/Setting/component/OtherSetting.js","views/Setting/index.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { forwardRef } from 'react';\n\n// material-ui\nimport { useTheme } from '@mui/material/styles';\nimport { Card, CardContent, CardHeader, Divider, Typography } from '@mui/material';\n\n// ==============================|| CUSTOM SUB CARD ||============================== //\n\nconst SubCard = forwardRef(\n  ({ children, content, contentClass, darkTitle, secondary, sx = {}, contentSX = {}, title, subTitle, ...others }, ref) => {\n    const theme = useTheme();\n\n    return (\n      <Card\n        ref={ref}\n        sx={{\n          border: theme.typography.SubCard.border,\n          ':hover': {\n            boxShadow: '0 2px 14px 0 rgb(32 40 45 / 8%)'\n          },\n          ...sx\n        }}\n        {...others}\n      >\n        {/* card header and action */}\n        {!darkTitle && title && (\n          <CardHeader sx={{ p: 2.5 }} title={<Typography variant=\"h5\">{title}</Typography>} action={secondary} subheader={subTitle} />\n        )}\n        {darkTitle && title && (\n          <CardHeader sx={{ p: 2.5 }} title={<Typography variant=\"h4\">{title}</Typography>} action={secondary} subheader={subTitle} />\n        )}\n\n        {/* content & header divider */}\n        {title && (\n          <Divider\n            sx={{\n              opacity: 1\n              // borderColor: theme.palette.primary.light\n            }}\n          />\n        )}\n\n        {/* card content */}\n        {content && (\n          <CardContent sx={{ p: 2.5, ...contentSX }} className={contentClass || ''}>\n            {children}\n          </CardContent>\n        )}\n        {!content && children}\n      </Card>\n    );\n  }\n);\n\nSubCard.propTypes = {\n  children: PropTypes.node,\n  content: PropTypes.bool,\n  contentClass: PropTypes.string,\n  darkTitle: PropTypes.bool,\n  secondary: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object]),\n  sx: PropTypes.object,\n  contentSX: PropTypes.object,\n  title: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object]),\n  subTitle: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object])\n};\n\nSubCard.defaultProps = {\n  content: true\n};\n\nexport default SubCard;\n","import { useState, useEffect } from \"react\";\nimport SubCard from \"ui-component/cards/SubCard\";\nimport {\n  Stack,\n  FormControl,\n  InputLabel,\n  OutlinedInput,\n  Checkbox,\n  Button,\n  FormControlLabel,\n  TextField,\n} from \"@mui/material\";\nimport { showSuccess, showError, verifyJSON } from \"utils/common\";\nimport { API } from \"utils/api\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport { DateTimePicker } from \"@mui/x-date-pickers/DateTimePicker\";\nimport dayjs from \"dayjs\";\nrequire(\"dayjs/locale/zh-cn\");\n\nconst OperationSetting = () => {\n  let now = new Date();\n  let [inputs, setInputs] = useState({\n    QuotaForNewUser: 0,\n    QuotaForInviter: 0,\n    QuotaForInvitee: 0,\n    QuotaRemindThreshold: 0,\n    PreConsumedQuota: 0,\n    ModelRatio: \"\",\n    CompletionRatio: \"\",\n    GroupRatio: \"\",\n    TopUpLink: \"\",\n    ChatLink: \"\",\n    QuotaPerUnit: 0,\n    AutomaticDisableChannelEnabled: \"\",\n    AutomaticEnableChannelEnabled: \"\",\n    ChannelDisableThreshold: 0,\n    LogConsumeEnabled: \"\",\n    DisplayInCurrencyEnabled: \"\",\n    DisplayTokenStatEnabled: \"\",\n    ApproximateTokenEnabled: \"\",\n    RetryTimes: 0,\n  });\n  const [originInputs, setOriginInputs] = useState({});\n  let [loading, setLoading] = useState(false);\n  let [historyTimestamp, setHistoryTimestamp] = useState(\n    now.getTime() / 1000 - 30 * 24 * 3600\n  ); // a month ago new Date().getTime() / 1000 + 3600\n\n  const getOptions = async () => {\n    const res = await API.get(\"/api/option/\");\n    const { success, message, data } = res.data;\n    if (success) {\n      let newInputs = {};\n      data.forEach((item) => {\n        if (item.key === \"ModelRatio\" || item.key === \"GroupRatio\" || item.key === \"CompletionRatio\") {\n          item.value = JSON.stringify(JSON.parse(item.value), null, 2);\n        }\n        if (item.value === '{}') {\n          item.value = '';\n        }\n        newInputs[item.key] = item.value;\n      });\n      setInputs(newInputs);\n      setOriginInputs(newInputs);\n    } else {\n      showError(message);\n    }\n  };\n\n  useEffect(() => {\n    getOptions().then();\n  }, []);\n\n  const updateOption = async (key, value) => {\n    setLoading(true);\n    if (key.endsWith(\"Enabled\")) {\n      value = inputs[key] === \"true\" ? \"false\" : \"true\";\n    }\n    const res = await API.put(\"/api/option/\", {\n      key,\n      value,\n    });\n    const { success, message } = res.data;\n    if (success) {\n      setInputs((inputs) => ({ ...inputs, [key]: value }));\n    } else {\n      showError(message);\n    }\n    setLoading(false);\n  };\n\n  const handleInputChange = async (event) => {\n    let { name, value } = event.target;\n\n    if (name.endsWith(\"Enabled\")) {\n      await updateOption(name, value);\n      showSuccess(\"设置成功！\");\n    } else {\n      setInputs((inputs) => ({ ...inputs, [name]: value }));\n    }\n  };\n\n  const submitConfig = async (group) => {\n    switch (group) {\n      case \"monitor\":\n        if (\n          originInputs[\"ChannelDisableThreshold\"] !==\n          inputs.ChannelDisableThreshold\n        ) {\n          await updateOption(\n            \"ChannelDisableThreshold\",\n            inputs.ChannelDisableThreshold\n          );\n        }\n        if (\n          originInputs[\"QuotaRemindThreshold\"] !== inputs.QuotaRemindThreshold\n        ) {\n          await updateOption(\n            \"QuotaRemindThreshold\",\n            inputs.QuotaRemindThreshold\n          );\n        }\n        break;\n      case \"ratio\":\n        if (originInputs[\"ModelRatio\"] !== inputs.ModelRatio) {\n          if (!verifyJSON(inputs.ModelRatio)) {\n            showError(\"模型倍率不是合法的 JSON 字符串\");\n            return;\n          }\n          await updateOption(\"ModelRatio\", inputs.ModelRatio);\n        }\n        if (originInputs[\"GroupRatio\"] !== inputs.GroupRatio) {\n          if (!verifyJSON(inputs.GroupRatio)) {\n            showError(\"分组倍率不是合法的 JSON 字符串\");\n            return;\n          }\n          await updateOption(\"GroupRatio\", inputs.GroupRatio);\n        }\n        if (originInputs['CompletionRatio'] !== inputs.CompletionRatio) {\n          if (!verifyJSON(inputs.CompletionRatio)) {\n            showError('补全倍率不是合法的 JSON 字符串');\n            return;\n          }\n          await updateOption('CompletionRatio', inputs.CompletionRatio);\n        }\n        break;\n      case \"quota\":\n        if (originInputs[\"QuotaForNewUser\"] !== inputs.QuotaForNewUser) {\n          await updateOption(\"QuotaForNewUser\", inputs.QuotaForNewUser);\n        }\n        if (originInputs[\"QuotaForInvitee\"] !== inputs.QuotaForInvitee) {\n          await updateOption(\"QuotaForInvitee\", inputs.QuotaForInvitee);\n        }\n        if (originInputs[\"QuotaForInviter\"] !== inputs.QuotaForInviter) {\n          await updateOption(\"QuotaForInviter\", inputs.QuotaForInviter);\n        }\n        if (originInputs[\"PreConsumedQuota\"] !== inputs.PreConsumedQuota) {\n          await updateOption(\"PreConsumedQuota\", inputs.PreConsumedQuota);\n        }\n        break;\n      case \"general\":\n        if (originInputs[\"TopUpLink\"] !== inputs.TopUpLink) {\n          await updateOption(\"TopUpLink\", inputs.TopUpLink);\n        }\n        if (originInputs[\"ChatLink\"] !== inputs.ChatLink) {\n          await updateOption(\"ChatLink\", inputs.ChatLink);\n        }\n        if (originInputs[\"QuotaPerUnit\"] !== inputs.QuotaPerUnit) {\n          await updateOption(\"QuotaPerUnit\", inputs.QuotaPerUnit);\n        }\n        if (originInputs[\"RetryTimes\"] !== inputs.RetryTimes) {\n          await updateOption(\"RetryTimes\", inputs.RetryTimes);\n        }\n        break;\n    }\n\n    showSuccess(\"保存成功！\");\n  };\n\n  const deleteHistoryLogs = async () => {\n    const res = await API.delete(\n      `/api/log/?target_timestamp=${Math.floor(historyTimestamp)}`\n    );\n    const { success, message, data } = res.data;\n    if (success) {\n      showSuccess(`${data} 条日志已清理！`);\n      return;\n    }\n    showError(\"日志清理失败：\" + message);\n  };\n\n  return (\n    <Stack spacing={2}>\n      <SubCard title=\"通用设置\">\n        <Stack justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\n          <Stack\n            direction={{ sm: \"column\", md: \"row\" }}\n            spacing={{ xs: 3, sm: 2, md: 4 }}\n          >\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"TopUpLink\">充值链接</InputLabel>\n              <OutlinedInput\n                id=\"TopUpLink\"\n                name=\"TopUpLink\"\n                value={inputs.TopUpLink}\n                onChange={handleInputChange}\n                label=\"充值链接\"\n                placeholder=\"例如发卡网站的购买链接\"\n                disabled={loading}\n              />\n            </FormControl>\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"ChatLink\">聊天链接</InputLabel>\n              <OutlinedInput\n                id=\"ChatLink\"\n                name=\"ChatLink\"\n                value={inputs.ChatLink}\n                onChange={handleInputChange}\n                label=\"聊天链接\"\n                placeholder=\"例如 ChatGPT Next Web 的部署地址\"\n                disabled={loading}\n              />\n            </FormControl>\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"QuotaPerUnit\">单位额度</InputLabel>\n              <OutlinedInput\n                id=\"QuotaPerUnit\"\n                name=\"QuotaPerUnit\"\n                value={inputs.QuotaPerUnit}\n                onChange={handleInputChange}\n                label=\"单位额度\"\n                placeholder=\"一单位货币能兑换的额度\"\n                disabled={loading}\n              />\n            </FormControl>\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"RetryTimes\">重试次数</InputLabel>\n              <OutlinedInput\n                id=\"RetryTimes\"\n                name=\"RetryTimes\"\n                value={inputs.RetryTimes}\n                onChange={handleInputChange}\n                label=\"重试次数\"\n                placeholder=\"重试次数\"\n                disabled={loading}\n              />\n            </FormControl>\n          </Stack>\n          <Stack\n            direction={{ sm: \"column\", md: \"row\" }}\n            spacing={{ xs: 3, sm: 2, md: 4 }}\n            justifyContent=\"flex-start\"\n            alignItems=\"flex-start\"\n          >\n            <FormControlLabel\n              sx={{ marginLeft: \"0px\" }}\n              label=\"以货币形式显示额度\"\n              control={\n                <Checkbox\n                  checked={inputs.DisplayInCurrencyEnabled === \"true\"}\n                  onChange={handleInputChange}\n                  name=\"DisplayInCurrencyEnabled\"\n                />\n              }\n            />\n\n            <FormControlLabel\n              label=\"Billing 相关 API 显示令牌额度而非用户额度\"\n              control={\n                <Checkbox\n                  checked={inputs.DisplayTokenStatEnabled === \"true\"}\n                  onChange={handleInputChange}\n                  name=\"DisplayTokenStatEnabled\"\n                />\n              }\n            />\n\n            <FormControlLabel\n              label=\"使用近似的方式估算 token 数以减少计算量\"\n              control={\n                <Checkbox\n                  checked={inputs.ApproximateTokenEnabled === \"true\"}\n                  onChange={handleInputChange}\n                  name=\"ApproximateTokenEnabled\"\n                />\n              }\n            />\n          </Stack>\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              submitConfig(\"general\").then();\n            }}\n          >\n            保存通用设置\n          </Button>\n        </Stack>\n      </SubCard>\n      <SubCard title=\"日志设置\">\n        <Stack\n          direction=\"column\"\n          justifyContent=\"flex-start\"\n          alignItems=\"flex-start\"\n          spacing={2}\n        >\n          <FormControlLabel\n            label=\"启用日志消费\"\n            control={\n              <Checkbox\n                checked={inputs.LogConsumeEnabled === \"true\"}\n                onChange={handleInputChange}\n                name=\"LogConsumeEnabled\"\n              />\n            }\n          />\n\n          <FormControl>\n            <LocalizationProvider\n              dateAdapter={AdapterDayjs}\n              adapterLocale={\"zh-cn\"}\n            >\n              <DateTimePicker\n                label=\"日志清理时间\"\n                placeholder=\"日志清理时间\"\n                ampm={false}\n                name=\"historyTimestamp\"\n                value={\n                  historyTimestamp === null\n                    ? null\n                    : dayjs.unix(historyTimestamp)\n                }\n                disabled={loading}\n                onChange={(newValue) => {\n                  setHistoryTimestamp(\n                    newValue === null ? null : newValue.unix()\n                  );\n                }}\n                slotProps={{\n                  actionBar: {\n                    actions: [\"today\", \"clear\", \"accept\"],\n                  },\n                }}\n              />\n            </LocalizationProvider>\n          </FormControl>\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              deleteHistoryLogs().then();\n            }}\n          >\n            清理历史日志\n          </Button>\n        </Stack>\n      </SubCard>\n      <SubCard title=\"监控设置\">\n        <Stack justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\n          <Stack\n            direction={{ sm: \"column\", md: \"row\" }}\n            spacing={{ xs: 3, sm: 2, md: 4 }}\n          >\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"ChannelDisableThreshold\">\n                最长响应时间\n              </InputLabel>\n              <OutlinedInput\n                id=\"ChannelDisableThreshold\"\n                name=\"ChannelDisableThreshold\"\n                type=\"number\"\n                value={inputs.ChannelDisableThreshold}\n                onChange={handleInputChange}\n                label=\"最长响应时间\"\n                placeholder=\"单位秒，当运行渠道全部测试时，超过此时间将自动禁用渠道\"\n                disabled={loading}\n              />\n            </FormControl>\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"QuotaRemindThreshold\">\n                额度提醒阈值\n              </InputLabel>\n              <OutlinedInput\n                id=\"QuotaRemindThreshold\"\n                name=\"QuotaRemindThreshold\"\n                type=\"number\"\n                value={inputs.QuotaRemindThreshold}\n                onChange={handleInputChange}\n                label=\"额度提醒阈值\"\n                placeholder=\"低于此额度时将发送邮件提醒用户\"\n                disabled={loading}\n              />\n            </FormControl>\n          </Stack>\n          <FormControlLabel\n            label=\"失败时自动禁用渠道\"\n            control={\n              <Checkbox\n                checked={inputs.AutomaticDisableChannelEnabled === \"true\"}\n                onChange={handleInputChange}\n                name=\"AutomaticDisableChannelEnabled\"\n              />\n            }\n          />\n          <FormControlLabel\n            label=\"成功时自动启用渠道\"\n            control={\n              <Checkbox\n                checked={inputs.AutomaticEnableChannelEnabled === \"true\"}\n                onChange={handleInputChange}\n                name=\"AutomaticEnableChannelEnabled\"\n              />\n            }\n          />\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              submitConfig(\"monitor\").then();\n            }}\n          >\n            保存监控设置\n          </Button>\n        </Stack>\n      </SubCard>\n      <SubCard title=\"额度设置\">\n        <Stack justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\n          <Stack\n            direction={{ sm: \"column\", md: \"row\" }}\n            spacing={{ xs: 3, sm: 2, md: 4 }}\n          >\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"QuotaForNewUser\">新用户初始额度</InputLabel>\n              <OutlinedInput\n                id=\"QuotaForNewUser\"\n                name=\"QuotaForNewUser\"\n                type=\"number\"\n                value={inputs.QuotaForNewUser}\n                onChange={handleInputChange}\n                label=\"新用户初始额度\"\n                placeholder=\"例如：100\"\n                disabled={loading}\n              />\n            </FormControl>\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"PreConsumedQuota\">请求预扣费额度</InputLabel>\n              <OutlinedInput\n                id=\"PreConsumedQuota\"\n                name=\"PreConsumedQuota\"\n                type=\"number\"\n                value={inputs.PreConsumedQuota}\n                onChange={handleInputChange}\n                label=\"请求预扣费额度\"\n                placeholder=\"请求结束后多退少补\"\n                disabled={loading}\n              />\n            </FormControl>\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"QuotaForInviter\">\n                邀请新用户奖励额度\n              </InputLabel>\n              <OutlinedInput\n                id=\"QuotaForInviter\"\n                name=\"QuotaForInviter\"\n                type=\"number\"\n                label=\"邀请新用户奖励额度\"\n                value={inputs.QuotaForInviter}\n                onChange={handleInputChange}\n                placeholder=\"例如：2000\"\n                disabled={loading}\n              />\n            </FormControl>\n            <FormControl fullWidth>\n              <InputLabel htmlFor=\"QuotaForInvitee\">\n                新用户使用邀请码奖励额度\n              </InputLabel>\n              <OutlinedInput\n                id=\"QuotaForInvitee\"\n                name=\"QuotaForInvitee\"\n                type=\"number\"\n                label=\"新用户使用邀请码奖励额度\"\n                value={inputs.QuotaForInvitee}\n                onChange={handleInputChange}\n                autoComplete=\"new-password\"\n                placeholder=\"例如：1000\"\n                disabled={loading}\n              />\n            </FormControl>\n          </Stack>\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              submitConfig(\"quota\").then();\n            }}\n          >\n            保存额度设置\n          </Button>\n        </Stack>\n      </SubCard>\n      <SubCard title=\"倍率设置\">\n        <Stack justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={2}>\n          <FormControl fullWidth>\n            <TextField\n              multiline\n              maxRows={15}\n              id=\"channel-ModelRatio-label\"\n              label=\"模型倍率\"\n              value={inputs.ModelRatio}\n              name=\"ModelRatio\"\n              onChange={handleInputChange}\n              aria-describedby=\"helper-text-channel-ModelRatio-label\"\n              minRows={5}\n              placeholder=\"为一个 JSON 文本，键为模型名称，值为倍率\"\n            />\n          </FormControl>\n          <FormControl fullWidth>\n            <TextField\n              multiline\n              maxRows={15}\n              id=\"channel-CompletionRatio-label\"\n              label=\"补全倍率\"\n              value={inputs.CompletionRatio}\n              name=\"CompletionRatio\"\n              onChange={handleInputChange}\n              aria-describedby=\"helper-text-channel-CompletionRatio-label\"\n              minRows={5}\n              placeholder=\"为一个 JSON 文本，键为模型名称，值为倍率，此处的倍率设置是模型补全倍率相较于提示倍率的比例，使用该设置可强制覆盖 One API 的内部比例\"\n            />\n          </FormControl>\n          <FormControl fullWidth>\n            <TextField\n              multiline\n              maxRows={15}\n              id=\"channel-GroupRatio-label\"\n              label=\"分组倍率\"\n              value={inputs.GroupRatio}\n              name=\"GroupRatio\"\n              onChange={handleInputChange}\n              aria-describedby=\"helper-text-channel-GroupRatio-label\"\n              minRows={5}\n              placeholder=\"为一个 JSON 文本，键为分组名称，值为倍率\"\n            />\n          </FormControl>\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              submitConfig(\"ratio\").then();\n            }}\n          >\n            保存倍率设置\n          </Button>\n        </Stack>\n      </SubCard>\n    </Stack>\n  );\n};\n\nexport default OperationSetting;\n","import { useState, useEffect } from 'react';\nimport SubCard from 'ui-component/cards/SubCard';\nimport {\n  Stack,\n  FormControl,\n  InputLabel,\n  OutlinedInput,\n  Checkbox,\n  Button,\n  FormControlLabel,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Divider,\n  Alert,\n  Autocomplete,\n  TextField\n} from '@mui/material';\nimport Grid from '@mui/material/Unstable_Grid2';\nimport { showError, showSuccess, removeTrailingSlash } from 'utils/common'; //,\nimport { API } from 'utils/api';\nimport { createFilterOptions } from '@mui/material/Autocomplete';\n\nconst filter = createFilterOptions();\nconst SystemSetting = () => {\n  let [inputs, setInputs] = useState({\n    PasswordLoginEnabled: '',\n    PasswordRegisterEnabled: '',\n    EmailVerificationEnabled: '',\n    GitHubOAuthEnabled: '',\n    GitHubClientId: '',\n    GitHubClientSecret: '',\n    LarkClientId: '',\n    LarkClientSecret: '',\n    Notice: '',\n    SMTPServer: '',\n    SMTPPort: '',\n    SMTPAccount: '',\n    SMTPFrom: '',\n    SMTPToken: '',\n    ServerAddress: '',\n    Footer: '',\n    WeChatAuthEnabled: '',\n    WeChatServerAddress: '',\n    WeChatServerToken: '',\n    WeChatAccountQRCodeImageURL: '',\n    TurnstileCheckEnabled: '',\n    TurnstileSiteKey: '',\n    TurnstileSecretKey: '',\n    RegisterEnabled: '',\n    EmailDomainRestrictionEnabled: '',\n    EmailDomainWhitelist: [],\n    MessagePusherAddress: '',\n    MessagePusherToken: ''\n  });\n  const [originInputs, setOriginInputs] = useState({});\n  let [loading, setLoading] = useState(false);\n  const [EmailDomainWhitelist, setEmailDomainWhitelist] = useState([]);\n  const [showPasswordWarningModal, setShowPasswordWarningModal] = useState(false);\n\n  const getOptions = async () => {\n    const res = await API.get('/api/option/');\n    const { success, message, data } = res.data;\n    if (success) {\n      let newInputs = {};\n      data.forEach((item) => {\n        newInputs[item.key] = item.value;\n      });\n      setInputs({\n        ...newInputs,\n        EmailDomainWhitelist: newInputs.EmailDomainWhitelist.split(',')\n      });\n      setOriginInputs(newInputs);\n\n      setEmailDomainWhitelist(newInputs.EmailDomainWhitelist.split(','));\n    } else {\n      showError(message);\n    }\n  };\n\n  useEffect(() => {\n    getOptions().then();\n  }, []);\n\n  const updateOption = async (key, value) => {\n    setLoading(true);\n    switch (key) {\n      case 'PasswordLoginEnabled':\n      case 'PasswordRegisterEnabled':\n      case 'EmailVerificationEnabled':\n      case 'GitHubOAuthEnabled':\n      case 'WeChatAuthEnabled':\n      case 'TurnstileCheckEnabled':\n      case 'EmailDomainRestrictionEnabled':\n      case 'RegisterEnabled':\n        value = inputs[key] === 'true' ? 'false' : 'true';\n        break;\n      default:\n        break;\n    }\n    const res = await API.put('/api/option/', {\n      key,\n      value\n    });\n    const { success, message } = res.data;\n    if (success) {\n      if (key === 'EmailDomainWhitelist') {\n        value = value.split(',');\n      }\n      setInputs((inputs) => ({\n        ...inputs,\n        [key]: value\n      }));\n      showSuccess('设置成功！');\n    } else {\n      showError(message);\n    }\n    setLoading(false);\n  };\n\n  const handleInputChange = async (event) => {\n    let { name, value } = event.target;\n\n    if (name === 'PasswordLoginEnabled' && inputs[name] === 'true') {\n      // block disabling password login\n      setShowPasswordWarningModal(true);\n      return;\n    }\n    if (\n      name === 'Notice' ||\n      name.startsWith('SMTP') ||\n      name === 'ServerAddress' ||\n      name === 'GitHubClientId' ||\n      name === 'GitHubClientSecret' ||\n      name === 'WeChatServerAddress' ||\n      name === 'WeChatServerToken' ||\n      name === 'WeChatAccountQRCodeImageURL' ||\n      name === 'TurnstileSiteKey' ||\n      name === 'TurnstileSecretKey' ||\n      name === 'EmailDomainWhitelist' ||\n      name === 'MessagePusherAddress' ||\n      name === 'MessagePusherToken' ||\n      name === 'LarkClientId' ||\n      name === 'LarkClientSecret'\n    ) {\n      setInputs((inputs) => ({ ...inputs, [name]: value }));\n    } else {\n      await updateOption(name, value);\n    }\n  };\n\n  const submitServerAddress = async () => {\n    let ServerAddress = removeTrailingSlash(inputs.ServerAddress);\n    await updateOption('ServerAddress', ServerAddress);\n  };\n\n  const submitSMTP = async () => {\n    if (originInputs['SMTPServer'] !== inputs.SMTPServer) {\n      await updateOption('SMTPServer', inputs.SMTPServer);\n    }\n    if (originInputs['SMTPAccount'] !== inputs.SMTPAccount) {\n      await updateOption('SMTPAccount', inputs.SMTPAccount);\n    }\n    if (originInputs['SMTPFrom'] !== inputs.SMTPFrom) {\n      await updateOption('SMTPFrom', inputs.SMTPFrom);\n    }\n    if (originInputs['SMTPPort'] !== inputs.SMTPPort && inputs.SMTPPort !== '') {\n      await updateOption('SMTPPort', inputs.SMTPPort);\n    }\n    if (originInputs['SMTPToken'] !== inputs.SMTPToken && inputs.SMTPToken !== '') {\n      await updateOption('SMTPToken', inputs.SMTPToken);\n    }\n  };\n\n  const submitEmailDomainWhitelist = async () => {\n    await updateOption('EmailDomainWhitelist', inputs.EmailDomainWhitelist.join(','));\n  };\n\n  const submitWeChat = async () => {\n    if (originInputs['WeChatServerAddress'] !== inputs.WeChatServerAddress) {\n      await updateOption('WeChatServerAddress', removeTrailingSlash(inputs.WeChatServerAddress));\n    }\n    if (originInputs['WeChatAccountQRCodeImageURL'] !== inputs.WeChatAccountQRCodeImageURL) {\n      await updateOption('WeChatAccountQRCodeImageURL', inputs.WeChatAccountQRCodeImageURL);\n    }\n    if (originInputs['WeChatServerToken'] !== inputs.WeChatServerToken && inputs.WeChatServerToken !== '') {\n      await updateOption('WeChatServerToken', inputs.WeChatServerToken);\n    }\n  };\n\n  const submitGitHubOAuth = async () => {\n    if (originInputs['GitHubClientId'] !== inputs.GitHubClientId) {\n      await updateOption('GitHubClientId', inputs.GitHubClientId);\n    }\n    if (originInputs['GitHubClientSecret'] !== inputs.GitHubClientSecret && inputs.GitHubClientSecret !== '') {\n      await updateOption('GitHubClientSecret', inputs.GitHubClientSecret);\n    }\n  };\n\n  const submitTurnstile = async () => {\n    if (originInputs['TurnstileSiteKey'] !== inputs.TurnstileSiteKey) {\n      await updateOption('TurnstileSiteKey', inputs.TurnstileSiteKey);\n    }\n    if (originInputs['TurnstileSecretKey'] !== inputs.TurnstileSecretKey && inputs.TurnstileSecretKey !== '') {\n      await updateOption('TurnstileSecretKey', inputs.TurnstileSecretKey);\n    }\n  };\n\n  const submitMessagePusher = async () => {\n    if (originInputs['MessagePusherAddress'] !== inputs.MessagePusherAddress) {\n      await updateOption('MessagePusherAddress', removeTrailingSlash(inputs.MessagePusherAddress));\n    }\n    if (originInputs['MessagePusherToken'] !== inputs.MessagePusherToken && inputs.MessagePusherToken !== '') {\n      await updateOption('MessagePusherToken', inputs.MessagePusherToken);\n    }\n  };\n\n  const submitLarkOAuth = async () => {\n    if (originInputs['LarkClientId'] !== inputs.LarkClientId) {\n      await updateOption('LarkClientId', inputs.LarkClientId);\n    }\n    if (originInputs['LarkClientSecret'] !== inputs.LarkClientSecret && inputs.LarkClientSecret !== '') {\n      await updateOption('LarkClientSecret', inputs.LarkClientSecret);\n    }\n  };\n\n  return (\n    <>\n      <Stack spacing={2}>\n        <SubCard title=\"通用设置\">\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"ServerAddress\">服务器地址</InputLabel>\n                <OutlinedInput\n                  id=\"ServerAddress\"\n                  name=\"ServerAddress\"\n                  value={inputs.ServerAddress || ''}\n                  onChange={handleInputChange}\n                  label=\"服务器地址\"\n                  placeholder=\"例如：https://yourdomain.com\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitServerAddress}>\n                更新服务器地址\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard title=\"配置登录注册\">\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12} md={3}>\n              <FormControlLabel\n                label=\"允许通过密码进行登录\"\n                control={\n                  <Checkbox checked={inputs.PasswordLoginEnabled === 'true'} onChange={handleInputChange} name=\"PasswordLoginEnabled\" />\n                }\n              />\n            </Grid>\n            <Grid xs={12} md={3}>\n              <FormControlLabel\n                label=\"允许通过密码进行注册\"\n                control={\n                  <Checkbox\n                    checked={inputs.PasswordRegisterEnabled === 'true'}\n                    onChange={handleInputChange}\n                    name=\"PasswordRegisterEnabled\"\n                  />\n                }\n              />\n            </Grid>\n            <Grid xs={12} md={3}>\n              <FormControlLabel\n                label=\"通过密码注册时需要进行邮箱验证\"\n                control={\n                  <Checkbox\n                    checked={inputs.EmailVerificationEnabled === 'true'}\n                    onChange={handleInputChange}\n                    name=\"EmailVerificationEnabled\"\n                  />\n                }\n              />\n            </Grid>\n            <Grid xs={12} md={3}>\n              <FormControlLabel\n                label=\"允许通过 GitHub 账户登录 & 注册\"\n                control={<Checkbox checked={inputs.GitHubOAuthEnabled === 'true'} onChange={handleInputChange} name=\"GitHubOAuthEnabled\" />}\n              />\n            </Grid>\n            <Grid xs={12} md={3}>\n              <FormControlLabel\n                label=\"允许通过微信登录 & 注册\"\n                control={<Checkbox checked={inputs.WeChatAuthEnabled === 'true'} onChange={handleInputChange} name=\"WeChatAuthEnabled\" />}\n              />\n            </Grid>\n            <Grid xs={12} md={3}>\n              <FormControlLabel\n                label=\"允许新用户注册（此项为否时，新用户将无法以任何方式进行注册）\"\n                control={<Checkbox checked={inputs.RegisterEnabled === 'true'} onChange={handleInputChange} name=\"RegisterEnabled\" />}\n              />\n            </Grid>\n            <Grid xs={12} md={3}>\n              <FormControlLabel\n                label=\"启用 Turnstile 用户校验\"\n                control={\n                  <Checkbox checked={inputs.TurnstileCheckEnabled === 'true'} onChange={handleInputChange} name=\"TurnstileCheckEnabled\" />\n                }\n              />\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard title=\"配置邮箱域名白名单\" subTitle=\"用以防止恶意用户利用临时邮箱批量注册\">\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12}>\n              <FormControlLabel\n                label=\"启用邮箱域名白名单\"\n                control={\n                  <Checkbox\n                    checked={inputs.EmailDomainRestrictionEnabled === 'true'}\n                    onChange={handleInputChange}\n                    name=\"EmailDomainRestrictionEnabled\"\n                  />\n                }\n              />\n            </Grid>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <Autocomplete\n                  multiple\n                  freeSolo\n                  id=\"EmailDomainWhitelist\"\n                  options={EmailDomainWhitelist}\n                  value={inputs.EmailDomainWhitelist}\n                  onChange={(e, value) => {\n                    const event = {\n                      target: {\n                        name: 'EmailDomainWhitelist',\n                        value: value\n                      }\n                    };\n                    handleInputChange(event);\n                  }}\n                  filterSelectedOptions\n                  renderInput={(params) => <TextField {...params} name=\"EmailDomainWhitelist\" label=\"允许的邮箱域名\" />}\n                  filterOptions={(options, params) => {\n                    const filtered = filter(options, params);\n                    const { inputValue } = params;\n                    const isExisting = options.some((option) => inputValue === option);\n                    if (inputValue !== '' && !isExisting) {\n                      filtered.push(inputValue);\n                    }\n                    return filtered;\n                  }}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitEmailDomainWhitelist}>\n                保存邮箱域名白名单设置\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard title=\"配置 SMTP\" subTitle=\"用以支持系统的邮件发送\">\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"SMTPServer\">SMTP 服务器地址</InputLabel>\n                <OutlinedInput\n                  id=\"SMTPServer\"\n                  name=\"SMTPServer\"\n                  value={inputs.SMTPServer || ''}\n                  onChange={handleInputChange}\n                  label=\"SMTP 服务器地址\"\n                  placeholder=\"例如：smtp.qq.com\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"SMTPPort\">SMTP 端口</InputLabel>\n                <OutlinedInput\n                  id=\"SMTPPort\"\n                  name=\"SMTPPort\"\n                  value={inputs.SMTPPort || ''}\n                  onChange={handleInputChange}\n                  label=\"SMTP 端口\"\n                  placeholder=\"默认: 587\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"SMTPAccount\">SMTP 账户</InputLabel>\n                <OutlinedInput\n                  id=\"SMTPAccount\"\n                  name=\"SMTPAccount\"\n                  value={inputs.SMTPAccount || ''}\n                  onChange={handleInputChange}\n                  label=\"SMTP 账户\"\n                  placeholder=\"通常是邮箱地址\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"SMTPFrom\">SMTP 发送者邮箱</InputLabel>\n                <OutlinedInput\n                  id=\"SMTPFrom\"\n                  name=\"SMTPFrom\"\n                  value={inputs.SMTPFrom || ''}\n                  onChange={handleInputChange}\n                  label=\"SMTP 发送者邮箱\"\n                  placeholder=\"通常和邮箱地址保持一致\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"SMTPToken\">SMTP 访问凭证</InputLabel>\n                <OutlinedInput\n                  id=\"SMTPToken\"\n                  name=\"SMTPToken\"\n                  value={inputs.SMTPToken || ''}\n                  onChange={handleInputChange}\n                  label=\"SMTP 访问凭证\"\n                  placeholder=\"敏感信息不会发送到前端显示\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitSMTP}>\n                保存 SMTP 设置\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard\n          title=\"配置 GitHub OAuth App\"\n          subTitle={\n            <span>\n              {' '}\n              用以支持通过 GitHub 进行登录注册，\n              <a href=\"https://github.com/settings/developers\" target=\"_blank\" rel=\"noopener noreferrer\">\n                点击此处\n              </a>\n              管理你的 GitHub OAuth App\n            </span>\n          }\n        >\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12}>\n              <Alert severity=\"info\" sx={{ wordWrap: 'break-word' }}>\n                Homepage URL 填 <b>{inputs.ServerAddress}</b>\n                ，Authorization callback URL 填 <b>{`${inputs.ServerAddress}/oauth/github`}</b>\n              </Alert>\n            </Grid>\n            <Grid xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"GitHubClientId\">GitHub Client ID</InputLabel>\n                <OutlinedInput\n                  id=\"GitHubClientId\"\n                  name=\"GitHubClientId\"\n                  value={inputs.GitHubClientId || ''}\n                  onChange={handleInputChange}\n                  label=\"GitHub Client ID\"\n                  placeholder=\"输入你注册的 GitHub OAuth APP 的 ID\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"GitHubClientSecret\">GitHub Client Secret</InputLabel>\n                <OutlinedInput\n                  id=\"GitHubClientSecret\"\n                  name=\"GitHubClientSecret\"\n                  value={inputs.GitHubClientSecret || ''}\n                  onChange={handleInputChange}\n                  label=\"GitHub Client Secret\"\n                  placeholder=\"敏感信息不会发送到前端显示\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitGitHubOAuth}>\n                保存 GitHub OAuth 设置\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard\n          title=\"配置飞书授权登录\"\n          subTitle={\n            <span>\n              {' '}\n              用以支持通过飞书进行登录注册，\n              <a href=\"https://open.feishu.cn/app\" target=\"_blank\" rel=\"noreferrer\">\n                点击此处\n              </a>\n              管理你的飞书应用\n            </span>\n          }\n        >\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12}>\n              <Alert severity=\"info\" sx={{ wordWrap: 'break-word' }}>\n                主页链接填 <code>{inputs.ServerAddress}</code>\n                ，重定向 URL 填 <code>{`${inputs.ServerAddress}/oauth/lark`}</code>\n              </Alert>\n            </Grid>\n            <Grid xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"LarkClientId\">App ID</InputLabel>\n                <OutlinedInput\n                  id=\"LarkClientId\"\n                  name=\"LarkClientId\"\n                  value={inputs.LarkClientId || ''}\n                  onChange={handleInputChange}\n                  label=\"App ID\"\n                  placeholder=\"输入 App ID\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"LarkClientSecret\">App Secret</InputLabel>\n                <OutlinedInput\n                  id=\"LarkClientSecret\"\n                  name=\"LarkClientSecret\"\n                  value={inputs.LarkClientSecret || ''}\n                  onChange={handleInputChange}\n                  label=\"App Secret\"\n                  placeholder=\"敏感信息不会发送到前端显示\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitLarkOAuth}>\n                保存飞书 OAuth 设置\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard\n          title=\"配置 WeChat Server\"\n          subTitle={\n            <span>\n              用以支持通过微信进行登录注册，\n              <a href=\"https://github.com/songquanpeng/wechat-server\" target=\"_blank\" rel=\"noopener noreferrer\">\n                点击此处\n              </a>\n              了解 WeChat Server\n            </span>\n          }\n        >\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"WeChatServerAddress\">WeChat Server 服务器地址</InputLabel>\n                <OutlinedInput\n                  id=\"WeChatServerAddress\"\n                  name=\"WeChatServerAddress\"\n                  value={inputs.WeChatServerAddress || ''}\n                  onChange={handleInputChange}\n                  label=\"WeChat Server 服务器地址\"\n                  placeholder=\"例如：https://yourdomain.com\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"WeChatServerToken\">WeChat Server 访问凭证</InputLabel>\n                <OutlinedInput\n                  id=\"WeChatServerToken\"\n                  name=\"WeChatServerToken\"\n                  value={inputs.WeChatServerToken || ''}\n                  onChange={handleInputChange}\n                  label=\"WeChat Server 访问凭证\"\n                  placeholder=\"敏感信息不会发送到前端显示\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"WeChatAccountQRCodeImageURL\">微信公众号二维码图片链接</InputLabel>\n                <OutlinedInput\n                  id=\"WeChatAccountQRCodeImageURL\"\n                  name=\"WeChatAccountQRCodeImageURL\"\n                  value={inputs.WeChatAccountQRCodeImageURL || ''}\n                  onChange={handleInputChange}\n                  label=\"微信公众号二维码图片链接\"\n                  placeholder=\"输入一个图片链接\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitWeChat}>\n                保存 WeChat Server 设置\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard\n          title=\"配置 Message Pusher\"\n          subTitle={\n            <span>\n              用以推送报警信息，\n              <a href=\"https://github.com/songquanpeng/message-pusher\" target=\"_blank\" rel=\"noreferrer\">\n                点击此处\n              </a>\n              了解 Message Pusher\n            </span>\n          }\n        >\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"MessagePusherAddress\">Message Pusher 推送地址</InputLabel>\n                <OutlinedInput\n                  id=\"MessagePusherAddress\"\n                  name=\"MessagePusherAddress\"\n                  value={inputs.MessagePusherAddress || ''}\n                  onChange={handleInputChange}\n                  label=\"Message Pusher 推送地址\"\n                  placeholder=\"例如：https://msgpusher.com/push/your_username\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"MessagePusherToken\">Message Pusher 访问凭证</InputLabel>\n                <OutlinedInput\n                  id=\"MessagePusherToken\"\n                  name=\"MessagePusherToken\"\n                  type=\"password\"\n                  value={inputs.MessagePusherToken || ''}\n                  onChange={handleInputChange}\n                  label=\"Message Pusher 访问凭证\"\n                  placeholder=\"敏感信息不会发送到前端显示\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitMessagePusher}>\n                保存 Message Pusher 设置\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard\n          title=\"配置 Turnstile\"\n          subTitle={\n            <span>\n              用以支持用户校验，\n              <a href=\"https://dash.cloudflare.com/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                点击此处\n              </a>\n              管理你的 Turnstile Sites，推荐选择 Invisible Widget Type\n            </span>\n          }\n        >\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"TurnstileSiteKey\">Turnstile Site Key</InputLabel>\n                <OutlinedInput\n                  id=\"TurnstileSiteKey\"\n                  name=\"TurnstileSiteKey\"\n                  value={inputs.TurnstileSiteKey || ''}\n                  onChange={handleInputChange}\n                  label=\"Turnstile Site Key\"\n                  placeholder=\"输入你注册的 Turnstile Site Key\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"TurnstileSecretKey\">Turnstile Secret Key</InputLabel>\n                <OutlinedInput\n                  id=\"TurnstileSecretKey\"\n                  name=\"TurnstileSecretKey\"\n                  type=\"password\"\n                  value={inputs.TurnstileSecretKey || ''}\n                  onChange={handleInputChange}\n                  label=\"Turnstile Secret Key\"\n                  placeholder=\"敏感信息不会发送到前端显示\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitTurnstile}>\n                保存 Turnstile 设置\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n      </Stack>\n      <Dialog open={showPasswordWarningModal} onClose={() => setShowPasswordWarningModal(false)} maxWidth={'md'}>\n        <DialogTitle sx={{ margin: '0px', fontWeight: 700, lineHeight: '1.55556', padding: '24px', fontSize: '1.125rem' }}>\n          警告\n        </DialogTitle>\n        <Divider />\n        <DialogContent>取消密码登录将导致所有未绑定其他登录方式的用户（包括管理员）无法通过密码登录，确认取消？</DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowPasswordWarningModal(false)}>取消</Button>\n          <Button\n            sx={{ color: 'error.main' }}\n            onClick={async () => {\n              setShowPasswordWarningModal(false);\n              await updateOption('PasswordLoginEnabled', 'false');\n            }}\n          >\n            确定\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default SystemSetting;\n","import { useState, useEffect } from 'react';\nimport SubCard from 'ui-component/cards/SubCard';\nimport {\n    Stack,\n    FormControl,\n    InputLabel,\n    OutlinedInput,\n    Button,\n    Alert,\n    TextField,\n    Dialog,\n    DialogTitle,\n    DialogActions,\n    DialogContent,\n    Divider, Link\n} from '@mui/material';\nimport Grid from '@mui/material/Unstable_Grid2';\nimport { showError, showSuccess } from 'utils/common'; //,\nimport { API } from 'utils/api';\nimport { marked } from 'marked';\n\nconst OtherSetting = () => {\n  let [inputs, setInputs] = useState({\n    Footer: '',\n    Notice: '',\n    About: '',\n    SystemName: '',\n    Logo: '',\n    HomePageContent: '',\n    Theme: '',\n  });\n  let [loading, setLoading] = useState(false);\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [updateData, setUpdateData] = useState({\n    tag_name: '',\n    content: ''\n  });\n\n  const getOptions = async () => {\n    const res = await API.get('/api/option/');\n    const { success, message, data } = res.data;\n    if (success) {\n      let newInputs = {};\n      data.forEach((item) => {\n        if (item.key in inputs) {\n          newInputs[item.key] = item.value;\n        }\n      });\n      setInputs(newInputs);\n    } else {\n      showError(message);\n    }\n  };\n\n  useEffect(() => {\n    getOptions().then();\n  }, []);\n\n  const updateOption = async (key, value) => {\n    setLoading(true);\n    const res = await API.put('/api/option/', {\n      key,\n      value\n    });\n    const { success, message } = res.data;\n    if (success) {\n      setInputs((inputs) => ({ ...inputs, [key]: value }));\n      showSuccess('保存成功');\n    } else {\n      showError(message);\n    }\n    setLoading(false);\n  };\n\n  const handleInputChange = async (event) => {\n    let { name, value } = event.target;\n    setInputs((inputs) => ({ ...inputs, [name]: value }));\n  };\n\n  const submitNotice = async () => {\n    await updateOption('Notice', inputs.Notice);\n  };\n\n  const submitFooter = async () => {\n    await updateOption('Footer', inputs.Footer);\n  };\n\n  const submitSystemName = async () => {\n    await updateOption('SystemName', inputs.SystemName);\n  };\n\n  const submitTheme = async () => {\n    await updateOption('Theme', inputs.Theme);\n  };\n\n  const submitLogo = async () => {\n    await updateOption('Logo', inputs.Logo);\n  };\n\n  const submitAbout = async () => {\n    await updateOption('About', inputs.About);\n  };\n\n  const submitOption = async (key) => {\n    await updateOption(key, inputs[key]);\n  };\n\n  const openGitHubRelease = () => {\n    window.location = 'https://github.com/songquanpeng/one-api/releases/latest';\n  };\n\n  const checkUpdate = async () => {\n    const res = await API.get('https://api.github.com/repos/songquanpeng/one-api/releases/latest');\n    const { tag_name, body } = res.data;\n    if (tag_name === process.env.REACT_APP_VERSION) {\n      showSuccess(`已是最新版本：${tag_name}`);\n    } else {\n      setUpdateData({\n        tag_name: tag_name,\n        content: marked.parse(body)\n      });\n      setShowUpdateModal(true);\n    }\n  };\n\n  return (\n    <>\n      <Stack spacing={2}>\n        <SubCard title=\"通用设置\">\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={checkUpdate}>\n                检查更新\n              </Button>\n            </Grid>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <TextField\n                  multiline\n                  maxRows={15}\n                  id=\"Notice\"\n                  label=\"公告\"\n                  value={inputs.Notice}\n                  name=\"Notice\"\n                  onChange={handleInputChange}\n                  minRows={10}\n                  placeholder=\"在此输入新的公告内容，支持 Markdown & HTML 代码\"\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitNotice}>\n                保存公告\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n        <SubCard title=\"个性化设置\">\n          <Grid container spacing={{ xs: 3, sm: 2, md: 4 }}>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"SystemName\">系统名称</InputLabel>\n                <OutlinedInput\n                  id=\"SystemName\"\n                  name=\"SystemName\"\n                  value={inputs.SystemName || ''}\n                  onChange={handleInputChange}\n                  label=\"系统名称\"\n                  placeholder=\"在此输入系统名称\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitSystemName}>\n                设置系统名称\n              </Button>\n            </Grid>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"Theme\">主题名称</InputLabel>\n                <OutlinedInput\n                    id=\"Theme\"\n                    name=\"Theme\"\n                    value={inputs.Theme || ''}\n                    onChange={handleInputChange}\n                    label=\"主题名称\"\n                    placeholder=\"请输入主题名称\"\n                    disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitTheme}>\n                设置主题（重启生效）\n              </Button>\n            </Grid>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <InputLabel htmlFor=\"Logo\">Logo 图片地址</InputLabel>\n                <OutlinedInput\n                  id=\"Logo\"\n                  name=\"Logo\"\n                  value={inputs.Logo || ''}\n                  onChange={handleInputChange}\n                  label=\"Logo 图片地址\"\n                  placeholder=\"在此输入Logo 图片地址\"\n                  disabled={loading}\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitLogo}>\n                设置 Logo\n              </Button>\n            </Grid>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <TextField\n                  multiline\n                  maxRows={15}\n                  id=\"HomePageContent\"\n                  label=\"首页内容\"\n                  value={inputs.HomePageContent}\n                  name=\"HomePageContent\"\n                  onChange={handleInputChange}\n                  minRows={10}\n                  placeholder=\"在此输入首页内容，支持 Markdown & HTML 代码，设置后首页的状态信息将不再显示。如果输入的是一个链接，则会使用该链接作为 iframe 的 src 属性，这允许你设置任意网页作为首页。\"\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={() => submitOption('HomePageContent')}>\n                保存首页内容\n              </Button>\n            </Grid>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <TextField\n                  multiline\n                  maxRows={15}\n                  id=\"About\"\n                  label=\"关于\"\n                  value={inputs.About}\n                  name=\"About\"\n                  onChange={handleInputChange}\n                  minRows={10}\n                  placeholder=\"在此输入新的关于内容，支持 Markdown & HTML 代码。如果输入的是一个链接，则会使用该链接作为 iframe 的 src 属性，这允许你设置任意网页作为关于页面。\"\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitAbout}>\n                保存关于\n              </Button>\n            </Grid>\n            <Grid xs={12}>\n              <Alert severity=\"warning\">\n                移除 One API 的版权标识必须首先获得授权，项目维护需要花费大量精力，如果本项目对你有意义，请主动支持本项目。\n              </Alert>\n            </Grid>\n            <Grid xs={12}>\n              <FormControl fullWidth>\n                <TextField\n                  multiline\n                  maxRows={15}\n                  id=\"Footer\"\n                  label=\"页脚\"\n                  value={inputs.Footer}\n                  name=\"Footer\"\n                  onChange={handleInputChange}\n                  minRows={10}\n                  placeholder=\"在此输入新的页脚，留空则使用默认页脚，支持 HTML 代码\"\n                />\n              </FormControl>\n            </Grid>\n            <Grid xs={12}>\n              <Button variant=\"contained\" onClick={submitFooter}>\n                设置页脚\n              </Button>\n            </Grid>\n          </Grid>\n        </SubCard>\n      </Stack>\n      <Dialog open={showUpdateModal} onClose={() => setShowUpdateModal(false)} fullWidth maxWidth={'md'}>\n        <DialogTitle sx={{ margin: '0px', fontWeight: 700, lineHeight: '1.55556', padding: '24px', fontSize: '1.125rem' }}>\n          新版本：{updateData.tag_name}\n        </DialogTitle>\n        <Divider />\n        <DialogContent>\n          {' '}\n          <div dangerouslySetInnerHTML={{ __html: updateData.content }}></div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowUpdateModal(false)}>关闭</Button>\n          <Button\n            onClick={async () => {\n              setShowUpdateModal(false);\n              openGitHubRelease();\n            }}\n          >\n            去GitHub查看\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default OtherSetting;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Tabs, Tab, Box, Card } from '@mui/material';\nimport { IconSettings2, IconActivity, IconSettings } from '@tabler/icons-react';\nimport OperationSetting from './component/OperationSetting';\nimport SystemSetting from './component/SystemSetting';\nimport OtherSetting from './component/OtherSetting';\nimport AdminContainer from 'ui-component/AdminContainer';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nfunction CustomTabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div role=\"tabpanel\" hidden={value !== index} id={`setting-tabpanel-${index}`} aria-labelledby={`setting-tab-${index}`} {...other}>\n      {value === index && <Box sx={{ p: 3 }}>{children}</Box>}\n    </div>\n  );\n}\n\nCustomTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `setting-tab-${index}`,\n    'aria-controls': `setting-tabpanel-${index}`\n  };\n}\n\nconst Setting = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const hash = location.hash.replace('#', '');\n  const tabMap = {\n    operation: 0,\n    system: 1,\n    other: 2\n  };\n  const [value, setValue] = useState(tabMap[hash] || 0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    const hashArray = Object.keys(tabMap);\n    navigate(`#${hashArray[newValue]}`);\n  };\n\n  useEffect(() => {\n    const handleHashChange = () => {\n      const hash = location.hash.replace('#', '');\n      setValue(tabMap[hash] || 0);\n    };\n    window.addEventListener('hashchange', handleHashChange);\n    return () => {\n      window.removeEventListener('hashchange', handleHashChange);\n    };\n  }, [location, tabMap]);\n\n  return (\n    <>\n      <Card>\n        <AdminContainer>\n          <Box sx={{ width: '100%' }}>\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n              <Tabs value={value} onChange={handleChange} variant=\"scrollable\" scrollButtons=\"auto\">\n                <Tab label=\"运营设置\" {...a11yProps(0)} icon={<IconActivity />} iconPosition=\"start\" />\n                <Tab label=\"系统设置\" {...a11yProps(1)} icon={<IconSettings />} iconPosition=\"start\" />\n                <Tab label=\"其他设置\" {...a11yProps(2)} icon={<IconSettings2 />} iconPosition=\"start\" />\n              </Tabs>\n            </Box>\n            <CustomTabPanel value={value} index={0}>\n              <OperationSetting />\n            </CustomTabPanel>\n            <CustomTabPanel value={value} index={1}>\n              <SystemSetting />\n            </CustomTabPanel>\n            <CustomTabPanel value={value} index={2}>\n              <OtherSetting />\n            </CustomTabPanel>\n          </Box>\n        </AdminContainer>\n      </Card>\n    </>\n  );\n};\n\nexport default Setting;\n"],"names":["SubCard","forwardRef","_ref","ref","children","content","contentClass","darkTitle","secondary","sx","contentSX","title","subTitle","others","theme","useTheme","_jsxs","Card","border","typography","boxShadow","_jsx","CardHeader","p","Typography","variant","action","subheader","Divider","opacity","CardContent","className","defaultProps","require","OperationSetting","now","Date","inputs","setInputs","useState","QuotaForNewUser","QuotaForInviter","QuotaForInvitee","QuotaRemindThreshold","PreConsumedQuota","ModelRatio","CompletionRatio","GroupRatio","TopUpLink","ChatLink","QuotaPerUnit","AutomaticDisableChannelEnabled","AutomaticEnableChannelEnabled","ChannelDisableThreshold","LogConsumeEnabled","DisplayInCurrencyEnabled","DisplayTokenStatEnabled","ApproximateTokenEnabled","RetryTimes","originInputs","setOriginInputs","loading","setLoading","historyTimestamp","setHistoryTimestamp","getTime","useEffect","async","res","API","get","success","message","data","newInputs","forEach","item","key","value","JSON","stringify","parse","showError","getOptions","then","updateOption","endsWith","put","handleInputChange","name","event","target","showSuccess","submitConfig","group","verifyJSON","Stack","spacing","justifyContent","alignItems","direction","sm","md","xs","FormControl","fullWidth","InputLabel","htmlFor","OutlinedInput","id","onChange","label","placeholder","disabled","FormControlLabel","marginLeft","control","Checkbox","checked","Button","onClick","LocalizationProvider","dateAdapter","AdapterDayjs","adapterLocale","DateTimePicker","ampm","dayjs","newValue","unix","slotProps","actionBar","actions","delete","Math","floor","deleteHistoryLogs","type","autoComplete","TextField","multiline","maxRows","minRows","filter","createFilterOptions","SystemSetting","PasswordLoginEnabled","PasswordRegisterEnabled","EmailVerificationEnabled","GitHubOAuthEnabled","GitHubClientId","GitHubClientSecret","LarkClientId","LarkClientSecret","Notice","SMTPServer","SMTPPort","SMTPAccount","SMTPFrom","SMTPToken","ServerAddress","Footer","WeChatAuthEnabled","WeChatServerAddress","WeChatServerToken","WeChatAccountQRCodeImageURL","TurnstileCheckEnabled","TurnstileSiteKey","TurnstileSecretKey","RegisterEnabled","EmailDomainRestrictionEnabled","EmailDomainWhitelist","MessagePusherAddress","MessagePusherToken","setEmailDomainWhitelist","showPasswordWarningModal","setShowPasswordWarningModal","split","startsWith","_Fragment","Grid","container","removeTrailingSlash","Autocomplete","multiple","freeSolo","options","e","filterSelectedOptions","renderInput","params","filterOptions","filtered","inputValue","isExisting","some","option","push","join","href","rel","Alert","severity","wordWrap","Dialog","open","onClose","maxWidth","DialogTitle","margin","fontWeight","lineHeight","padding","fontSize","DialogContent","DialogActions","color","OtherSetting","About","SystemName","Logo","HomePageContent","Theme","showUpdateModal","setShowUpdateModal","updateData","setUpdateData","tag_name","body","process","marked","submitOption","dangerouslySetInnerHTML","__html","window","location","CustomTabPanel","props","index","other","role","hidden","Box","a11yProps","Setting","useLocation","navigate","useNavigate","hash","replace","tabMap","operation","system","setValue","handleHashChange","addEventListener","removeEventListener","AdminContainer","width","borderBottom","borderColor","Tabs","handleChange","hashArray","Object","keys","scrollButtons","Tab","icon","IconActivity","iconPosition","IconSettings","IconSettings2"],"sourceRoot":""}