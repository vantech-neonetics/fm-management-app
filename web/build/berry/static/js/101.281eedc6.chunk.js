"use strict";(self.webpackChunkone_api_web=self.webpackChunkone_api_web||[]).push([[101],{8032:function(e,t,r){r.d(t,{p:function(){return n}});const n={1:{key:1,text:"OpenAI",value:1,color:"success"},14:{key:14,text:"Anthropic Claude",value:14,color:"primary"},33:{key:33,text:"AWS Claude",value:33,color:"primary"},37:{key:37,text:"Cloudflare",value:37,color:"success"},3:{key:3,text:"Azure OpenAI",value:3,color:"success"},11:{key:11,text:"Google PaLM2",value:11,color:"warning"},24:{key:24,text:"Google Gemini",value:24,color:"warning"},28:{key:28,text:"Mistral AI",value:28,color:"warning"},15:{key:15,text:"\u767e\u5ea6\u6587\u5fc3\u5343\u5e06",value:15,color:"primary"},17:{key:17,text:"\u963f\u91cc\u901a\u4e49\u5343\u95ee",value:17,color:"primary"},18:{key:18,text:"\u8baf\u98de\u661f\u706b\u8ba4\u77e5",value:18,color:"primary"},16:{key:16,text:"\u667a\u8c31 ChatGLM",value:16,color:"primary"},19:{key:19,text:"360 \u667a\u8111",value:19,color:"primary"},25:{key:25,text:"Moonshot AI",value:25,color:"primary"},23:{key:23,text:"\u817e\u8baf\u6df7\u5143",value:23,color:"primary"},26:{key:26,text:"\u767e\u5ddd\u5927\u6a21\u578b",value:26,color:"primary"},27:{key:27,text:"MiniMax",value:27,color:"primary"},29:{key:29,text:"Groq",value:29,color:"primary"},30:{key:30,text:"Ollama",value:30,color:"primary"},31:{key:31,text:"\u96f6\u4e00\u4e07\u7269",value:31,color:"primary"},32:{key:32,text:"\u9636\u8dc3\u661f\u8fb0",value:32,color:"primary"},34:{key:34,text:"Coze",value:34,color:"primary"},35:{key:35,text:"Cohere",value:35,color:"primary"},36:{key:36,text:"DeepSeek",value:36,color:"primary"},38:{key:38,text:"DeepL",value:38,color:"primary"},39:{key:39,text:"together.ai",value:39,color:"primary"},8:{key:8,text:"\u81ea\u5b9a\u4e49\u6e20\u9053",value:8,color:"error"},22:{key:22,text:"\u77e5\u8bc6\u5e93\uff1aFastGPT",value:22,color:"success"},21:{key:21,text:"\u77e5\u8bc6\u5e93\uff1aAI Proxy",value:21,color:"success"},20:{key:20,text:"\u4ee3\u7406\uff1aOpenRouter",value:20,color:"success"},2:{key:2,text:"\u4ee3\u7406\uff1aAPI2D",value:2,color:"success"},5:{key:5,text:"\u4ee3\u7406\uff1aOpenAI-SB",value:5,color:"success"},7:{key:7,text:"\u4ee3\u7406\uff1aOhMyGPT",value:7,color:"success"},10:{key:10,text:"\u4ee3\u7406\uff1aAI Proxy",value:10,color:"success"},4:{key:4,text:"\u4ee3\u7406\uff1aCloseAI",value:4,color:"success"},6:{key:6,text:"\u4ee3\u7406\uff1aOpenAI Max",value:6,color:"success"},9:{key:9,text:"\u4ee3\u7406\uff1aAI.LS",value:9,color:"success"},12:{key:12,text:"\u4ee3\u7406\uff1aAPI2GPT",value:12,color:"success"},13:{key:13,text:"\u4ee3\u7406\uff1aAIGC2D",value:13,color:"success"}}},1736:function(e,t,r){r.d(t,{re:function(){return n}});r(5512);const n=10;r(8032)},8721:function(e,t,r){var n=r(4535),l=r(4598);const a=(0,n.Ay)(l.A)((e=>{let{theme:t}=e;return{padding:8,"& .MuiSwitch-track":{borderRadius:11,"&:before, &:after":{content:'""',position:"absolute",top:"50%",transform:"translateY(-50%)",width:16,height:16},"&:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(t.palette.getContrastText(t.palette.primary.main))}" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>')`,left:12},"&:after":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(t.palette.getContrastText(t.palette.primary.main))}" d="M19,13H5V11H19V13Z" /></svg>')`,right:12}},"& .MuiSwitch-thumb":{boxShadow:"none",width:16,height:16,margin:2}}}));t.A=a},5098:function(e,t,r){r.d(t,{A:function(){return c}});var n=r(5263),l=r(4050),a=r(1787),o=r(6240),s=r(8302),i=r(579);function c(e){let{filterName:t,handleFilterName:r,placeholder:c}=e;const d=(0,o.A)().palette.grey[500];return(0,i.jsx)(n.A,{sx:{height:80,display:"flex",justifyContent:"space-between",p:e=>e.spacing(0,1,0,3)},children:(0,i.jsx)(l.A,{id:"keyword",sx:{minWidth:"100%"},value:t,onChange:r,placeholder:c,startAdornment:(0,i.jsx)(a.A,{position:"start",children:(0,i.jsx)(s.A,{stroke:1.5,size:"20px",color:d})})})})}},6101:function(e,t,r){r.r(t),r.d(t,{default:function(){return fe}});var n=r(5043),l=r(9985),a=r(1806),o=r(3460),s=r(9650),i=r(864),c=r.n(i),d=r(9090),u=r(611),h=r(7254),p=r(196),x=r(5263),m=r(8911),A=r(5865),v=r(2518),y=r(2110),g=r(6446),j=r(9252),k=r(9456),f=r(2143),b=r(8076),C=r(2420),w=r(7739),_=r(7392),S=r(1020),I=r(3462),M=r(6600),z=r(5316),P=r(8533),q=r(9347),O=r(8721),$=r(7510),L=r(1330),B=(0,r(7391).A)("caret-down-filled","IconCaretDownFilled",[["path",{d:"M18 9c.852 0 1.297 .986 .783 1.623l-.076 .084l-6 6a1 1 0 0 1 -1.32 .083l-.094 -.083l-6 -6l-.083 -.094l-.054 -.077l-.054 -.096l-.017 -.036l-.027 -.067l-.032 -.108l-.01 -.053l-.01 -.06l-.004 -.057v-.118l.005 -.058l.009 -.06l.01 -.052l.032 -.108l.027 -.067l.07 -.132l.065 -.09l.073 -.081l.094 -.083l.077 -.054l.096 -.054l.036 -.017l.067 -.027l.108 -.032l.053 -.01l.06 -.01l.057 -.004l12.059 -.002z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),T=r(1112),R=r(579);const W=[{key:"next",text:"ChatGPT Next",url:'https://app.nextchat.dev/#/?settings={"key":"sk-{key}","url":"{serverAddress}"}',encode:!1},{key:"ama",text:"BotGem",url:"ama://set-api-key?server={serverAddress}&key=sk-{key}",encode:!0},{key:"opencat",text:"OpenCat",url:"opencat://team/join?domain={serverAddress}&token=sk-{key}",encode:!0}];function F(e){return(0,R.jsx)(R.Fragment,{children:e.map(((e,t)=>(0,R.jsxs)(f.A,{onClick:e.onClick,sx:{color:e.color},children:[e.icon,e.text]},t)))})}function V(e){let{item:t,manageToken:r,handleOpenModal:a,setModalTokenId:o}=e;const[s,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(!1),[x,A]=(0,n.useState)(t.status),y=(0,k.d4)((e=>e.siteInfo)),g=()=>{h(!1)},j=(e,t)=>{switch(t){case"copy":d(N);break;case"link":d(G);break;default:d(V)}i(e.currentTarget)},f=()=>{i(null)},V=F([{text:"\u7f16\u8f91",icon:(0,R.jsx)($.A,{style:{marginRight:"16px"}}),onClick:()=>{f(),a(),o(t.id)},color:void 0},{text:"\u5220\u9664",icon:(0,R.jsx)(L.A,{style:{marginRight:"16px"}}),onClick:()=>{f(),h(!0)},color:"error.main"}]),E=(e,r)=>{let n="";n=null!==y&&void 0!==y&&y.server_address?y.server_address:window.location.host,e.encode&&(n=encodeURIComponent(n));let a=e.url;"next"===e.key&&null!==y&&void 0!==y&&y.chat_link&&(a=y.chat_link+'/#/?settings={"key":"sk-{key}","url":"{serverAddress}"}');const o=function(e,t,r){return e.replace("{key}",t).replace("{serverAddress}",r)}(a,t.key,n);"link"===r?window.open(o):(0,l.C)(o),f()},N=F(W.map((e=>({text:e.text,icon:void 0,onClick:()=>E(e,"copy"),color:void 0})))),G=F(W.map((e=>({text:e.text,icon:void 0,onClick:()=>E(e,"link"),color:void 0}))));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(b.A,{tabIndex:t.id,children:[(0,R.jsx)(C.A,{children:t.name}),(0,R.jsx)(C.A,{children:(0,R.jsx)(w.A,{title:(()=>{switch(x){case 1:return"\u5df2\u542f\u7528";case 2:return"\u5df2\u7981\u7528";case 3:return"\u5df2\u8fc7\u671f";case 4:return"\u5df2\u8017\u5c3d";default:return"\u672a\u77e5"}})(),placement:"top",children:(0,R.jsx)(O.A,{id:`switch-${t.id}`,checked:1===x,onChange:async()=>{const e=1===x?2:1,{success:n}=await r(t.id,"status",e);n&&A(e)}})})}),(0,R.jsx)(C.A,{children:(0,l.X8)(t.used_quota)}),(0,R.jsx)(C.A,{children:t.unlimited_quota?"\u65e0\u9650\u5236":(0,l.X8)(t.remain_quota,2)}),(0,R.jsx)(C.A,{children:(0,l.gA)(t.created_time)}),(0,R.jsx)(C.A,{children:-1===t.expired_time?"\u6c38\u4e0d\u8fc7\u671f":(0,l.gA)(t.expired_time)}),(0,R.jsx)(C.A,{children:(0,R.jsxs)(m.A,{direction:"row",spacing:1,children:[(0,R.jsxs)(p.A,{size:"small","aria-label":"split button",children:[(0,R.jsx)(v.A,{color:"primary",onClick:()=>{(0,l.C)(`sk-${t.key}`)},children:"\u590d\u5236"}),(0,R.jsx)(v.A,{size:"small",onClick:e=>j(e,"copy"),children:(0,R.jsx)(B,{size:"16px"})})]}),(0,R.jsxs)(p.A,{size:"small","aria-label":"split button",children:[(0,R.jsx)(v.A,{color:"primary",onClick:e=>E(W[0],"link"),children:"\u804a\u5929"}),(0,R.jsx)(v.A,{size:"small",onClick:e=>j(e,"link"),children:(0,R.jsx)(B,{size:"16px"})})]}),(0,R.jsx)(_.A,{onClick:e=>j(e,"action"),sx:{color:"rgb(99, 115, 129)"},children:(0,R.jsx)(T.A,{})})]})})]}),(0,R.jsx)(S.Ay,{open:!!s,anchorEl:s,onClose:f,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:c}),(0,R.jsxs)(I.A,{open:u,onClose:g,children:[(0,R.jsx)(M.A,{children:"\u5220\u9664Token"}),(0,R.jsx)(z.A,{children:(0,R.jsxs)(P.A,{children:["\u662f\u5426\u5220\u9664Token ",t.name,"\uff1f"]})}),(0,R.jsxs)(q.A,{children:[(0,R.jsx)(v.A,{onClick:g,children:"\u5173\u95ed"}),(0,R.jsx)(v.A,{onClick:async()=>{f(),await r(t.id,"delete","")},sx:{color:"error.main"},autoFocus:!0,children:"\u5220\u9664"})]})]})]})}var E=r(4882);var N=()=>(0,R.jsx)(E.A,{children:(0,R.jsxs)(b.A,{children:[(0,R.jsx)(C.A,{children:"\u540d\u79f0"}),(0,R.jsx)(C.A,{children:"\u72b6\u6001"}),(0,R.jsx)(C.A,{children:"\u5df2\u7528\u989d\u5ea6"}),(0,R.jsx)(C.A,{children:"\u5269\u4f59\u989d\u5ea6"}),(0,R.jsx)(C.A,{children:"\u521b\u5efa\u65f6\u95f4"}),(0,R.jsx)(C.A,{children:"\u8fc7\u671f\u65f6\u95f4"}),(0,R.jsx)(C.A,{children:"\u64cd\u4f5c"})]})}),G=r(5098),H=r(3862),D=r(1736),Q=r(1522),Z=r(3991),U=r(3033),X=r(3516),Y=r(6240),K=r(446),J=r.n(K),ee=r(9336),te=r(3193),re=r(9190),ne=r(4050),le=r(1673),ae=r(8624),oe=r(7784),se=r(1962),ie=r(4598),ce=r(1787),de=r(9302),ue=r(8390),he=r(4061),pe=r(4109),xe=r(6581),me=r(3057);r(6484);const Ae=(0,R.jsx)(pe.A,{fontSize:"small"}),ve=(0,R.jsx)(xe.A,{fontSize:"small"}),ye=(0,me.Z)(),ge=U.Ik().shape({is_edit:U.zM(),name:U.Yj().required("\u540d\u79f0 \u4e0d\u80fd\u4e3a\u7a7a"),remain_quota:U.ai().min(0,"\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0"),expired_time:U.ai(),unlimited_quota:U.zM()}),je={is_edit:!1,name:"",remain_quota:0,expired_time:-1,unlimited_quota:!1,subnet:"",models:[]};var ke=e=>{let{open:t,tokenId:r,onCancel:a,onOk:o}=e;const s=(0,Y.A)(),[i,c]=(0,n.useState)(je),[d,u]=(0,n.useState)([]);return(0,n.useEffect)((()=>{r?(async()=>{let e=await H.n.get(`/api/token/${r}`);const{success:t,message:n,data:a}=e.data;t?(a.is_edit=!0,""===a.models?a.models=[]:a.models=a.models.split(","),c(a)):(0,l.Qg)(n)})().then():c({...je}),(async()=>{let e=await H.n.get("/api/user/available_models");const{success:t,message:r,data:n}=e.data;t?u(n):(0,l.Qg)(r)})().then()}),[r]),(0,R.jsxs)(I.A,{open:t,onClose:a,fullWidth:!0,maxWidth:"md",children:[(0,R.jsx)(M.A,{sx:{margin:"0px",fontWeight:700,lineHeight:"1.55556",padding:"24px",fontSize:"1.125rem"},children:r?"\u7f16\u8f91\u4ee4\u724c":"\u65b0\u5efa\u4ee4\u724c"}),(0,R.jsx)(ee.A,{}),(0,R.jsxs)(z.A,{children:[(0,R.jsx)(h.A,{severity:"info",children:"\u6ce8\u610f\uff0c\u4ee4\u724c\u7684\u989d\u5ea6\u4ec5\u7528\u4e8e\u9650\u5236\u4ee4\u724c\u672c\u8eab\u7684\u6700\u5927\u989d\u5ea6\u4f7f\u7528\u91cf\uff0c\u5b9e\u9645\u7684\u4f7f\u7528\u53d7\u5230\u8d26\u6237\u7684\u5269\u4f59\u989d\u5ea6\u9650\u5236\u3002"}),(0,R.jsx)(X.l1,{initialValues:i,enableReinitialize:!0,validationSchema:ge,onSubmit:async(e,t)=>{let n,{setErrors:a,setStatus:s,setSubmitting:i}=t;i(!0),e.remain_quota=parseInt(e.remain_quota);let c=e.models.join(",");n=e.is_edit?await H.n.put("/api/token/",{...e,id:parseInt(r),models:c}):await H.n.post("/api/token/",{...e,models:c});const{success:d,message:u}=n.data;d?(e.is_edit?(0,l.Te)("\u4ee4\u724c\u66f4\u65b0\u6210\u529f\uff01"):(0,l.Te)("\u4ee4\u724c\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u5728\u5217\u8868\u9875\u9762\u70b9\u51fb\u590d\u5236\u83b7\u53d6\u4ee4\u724c\uff01"),i(!1),s({success:!0}),o(!0)):((0,l.Qg)(u),a({submit:u}))},children:e=>{let{errors:t,handleBlur:r,handleChange:n,handleSubmit:o,touched:i,values:c,setFieldError:u,setFieldValue:h,isSubmitting:p}=e;return(0,R.jsxs)("form",{noValidate:!0,onSubmit:o,children:[(0,R.jsxs)(te.A,{fullWidth:!0,error:Boolean(i.name&&t.name),sx:{...s.typography.otherInput},children:[(0,R.jsx)(re.A,{htmlFor:"channel-name-label",children:"\u540d\u79f0"}),(0,R.jsx)(ne.A,{id:"channel-name-label",label:"\u540d\u79f0",type:"text",value:c.name,name:"name",onBlur:r,onChange:n,inputProps:{autoComplete:"name"},"aria-describedby":"helper-text-channel-name-label"}),i.name&&t.name&&(0,R.jsx)(le.A,{error:!0,id:"helper-tex-channel-name-label",children:t.name})]}),(0,R.jsxs)(te.A,{fullWidth:!0,sx:{...s.typography.otherInput},children:[(0,R.jsx)(ae.A,{multiple:!0,freeSolo:!0,id:"channel-models-label",options:d,value:c.models,onChange:(e,t)=>{n({target:{name:"models",value:t}})},onBlur:r,disableCloseOnSelect:!0,renderInput:e=>(0,R.jsx)(oe.A,{...e,name:"models",error:Boolean(t.models),label:"\u6a21\u578b\u8303\u56f4"}),filterOptions:(e,t)=>{const r=ye(e,t),{inputValue:n}=t,l=e.some((e=>n===e));return""===n||l||r.push(n),r},renderOption:(e,t,r)=>{let{selected:n}=r;return(0,R.jsxs)("li",{...e,children:[(0,R.jsx)(se.A,{icon:Ae,checkedIcon:ve,style:{marginRight:8},checked:n}),t]})}}),t.models?(0,R.jsx)(le.A,{error:!0,id:"helper-tex-channel-models-label",children:t.models}):(0,R.jsx)(le.A,{id:"helper-tex-channel-models-label",children:"\u8bf7\u9009\u62e9\u5141\u8bb8\u4f7f\u7528\u7684\u6a21\u578b\uff0c\u7559\u7a7a\u5219\u4e0d\u8fdb\u884c\u9650\u5236"})]}),(0,R.jsxs)(te.A,{fullWidth:!0,error:Boolean(i.subnet&&t.subnet),sx:{...s.typography.otherInput},children:[(0,R.jsx)(re.A,{htmlFor:"channel-subnet-label",children:"IP \u9650\u5236"}),(0,R.jsx)(ne.A,{id:"channel-subnet-label",label:"IP \u9650\u5236",type:"text",value:c.subnet,name:"subnet",onBlur:r,onChange:n,inputProps:{autoComplete:"subnet"},"aria-describedby":"helper-text-channel-subnet-label"}),i.subnet&&t.subnet?(0,R.jsx)(le.A,{error:!0,id:"helper-tex-channel-subnet-label",children:t.subnet}):(0,R.jsx)(le.A,{id:"helper-tex-channel-subnet-label",children:"\u8bf7\u8f93\u5165\u5141\u8bb8\u8bbf\u95ee\u7684\u7f51\u6bb5\uff0c\u4f8b\u5982\uff1a192.168.0.0/24\uff0c\u8bf7\u4f7f\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694\u591a\u4e2a\u7f51\u6bb5"})]}),-1!==c.expired_time&&(0,R.jsxs)(te.A,{fullWidth:!0,error:Boolean(i.expired_time&&t.expired_time),sx:{...s.typography.otherInput},children:[(0,R.jsx)(ue.$,{dateAdapter:de.R,adapterLocale:"zh-cn",children:(0,R.jsx)(he.K,{label:"\u8fc7\u671f\u65f6\u95f4",ampm:!1,value:J().unix(c.expired_time),onError:e=>{u("expired_time",null===e?null:"\u65e0\u6548\u7684\u65e5\u671f")},onChange:e=>{h("expired_time",e.unix())},slotProps:{actionBar:{actions:["today","accept"]}}})}),t.expired_time&&(0,R.jsx)(le.A,{error:!0,id:"helper-tex-channel-expired_time-label",children:t.expired_time})]}),(0,R.jsx)(ie.A,{checked:-1===c.expired_time,onClick:()=>{-1===c.expired_time?h("expired_time",Math.floor(Date.now()/1e3)):h("expired_time",-1)}})," ","\u6c38\u4e0d\u8fc7\u671f",(0,R.jsxs)(te.A,{fullWidth:!0,error:Boolean(i.remain_quota&&t.remain_quota),sx:{...s.typography.otherInput},children:[(0,R.jsx)(re.A,{htmlFor:"channel-remain_quota-label",children:"\u989d\u5ea6"}),(0,R.jsx)(ne.A,{id:"channel-remain_quota-label",label:"\u989d\u5ea6",type:"number",value:c.remain_quota,name:"remain_quota",endAdornment:(0,R.jsx)(ce.A,{position:"end",children:(0,l.t0)(c.remain_quota)}),onBlur:r,onChange:n,"aria-describedby":"helper-text-channel-remain_quota-label",disabled:c.unlimited_quota}),i.remain_quota&&t.remain_quota&&(0,R.jsx)(le.A,{error:!0,id:"helper-tex-channel-remain_quota-label",children:t.remain_quota})]}),(0,R.jsx)(ie.A,{checked:!0===c.unlimited_quota,onClick:()=>{h("unlimited_quota",!c.unlimited_quota)}})," ","\u65e0\u9650\u989d\u5ea6",(0,R.jsxs)(q.A,{children:[(0,R.jsx)(v.A,{onClick:a,children:"\u53d6\u6d88"}),(0,R.jsx)(v.A,{disableElevation:!0,disabled:p,type:"submit",variant:"contained",color:"primary",children:"\u63d0\u4ea4"})]})]})}})]})]})};function fe(){const[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(0),[f,b]=(0,n.useState)(!1),[C,w]=(0,n.useState)(""),[_,S]=(0,n.useState)(!1),[I,M]=(0,n.useState)(0),z=(0,k.d4)((e=>e.siteInfo)),P=async r=>{b(!0);const n=await H.n.get(`/api/token/?p=${r}`),{success:a,message:o,data:s}=n.data;if(a)if(0===r)t(s);else{let n=[...e];n.splice(r*D.re,s.length,...s),t(n)}else(0,l.Qg)(o);b(!1)};(0,n.useEffect)((()=>{P(0).then().catch((e=>{(0,l.Qg)(e)}))}),[]);const q=async(e,t,r)=>{const n="/api/token/";let a,o={id:e};switch(t){case"delete":a=await H.n.delete(n+e);break;case"status":a=await H.n.put(n+"?status_only=true",{...o,status:r})}const{success:s,message:i}=a.data;return s?((0,l.Te)("\u64cd\u4f5c\u6210\u529f\u5b8c\u6210\uff01"),"delete"===t&&await O()):(0,l.Qg)(i),a.data},O=async()=>{await P(r)},$=e=>{M(e),S(!0)},L=()=>{S(!1),M(0)};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(m.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:2.5,children:[(0,R.jsx)(A.A,{variant:"h4",children:"\u4ee4\u724c"}),(0,R.jsx)(v.A,{variant:"contained",color:"primary",onClick:()=>{$(0)},startIcon:(0,R.jsx)(Q.A,{}),children:"\u65b0\u5efa\u4ee4\u724c"})]}),(0,R.jsx)(m.A,{mb:2,children:(0,R.jsxs)(h.A,{severity:"info",children:["\u5c06 OpenAI API \u57fa\u7840\u5730\u5740 https://api.openai.com \u66ff\u6362\u4e3a ",(0,R.jsx)("b",{children:z.server_address}),"\uff0c\u590d\u5236\u4e0b\u9762\u7684\u5bc6\u94a5\u5373\u53ef\u4f7f\u7528"]})}),(0,R.jsxs)(y.A,{children:[(0,R.jsx)(g.A,{component:"form",onSubmit:async e=>{if(e.preventDefault(),""===C)return await P(0),void i(0);b(!0);const r=await H.n.get(`/api/token/search?keyword=${C}`),{success:n,message:a,data:o}=r.data;n?(t(o),i(0)):(0,l.Qg)(a),b(!1)},noValidate:!0,sx:{marginTop:2},children:(0,R.jsx)(G.A,{filterName:C,handleFilterName:e=>{w(e.target.value)},placeholder:"\u641c\u7d22\u4ee4\u724c\u7684\u540d\u79f0..."})}),(0,R.jsx)(x.A,{sx:{textAlign:"right",height:50,display:"flex",justifyContent:"space-between",p:e=>e.spacing(0,1,0,3)},children:(0,R.jsx)(j.A,{children:(0,R.jsx)(p.A,{variant:"outlined","aria-label":"outlined small primary button group",sx:{marginBottom:2},children:(0,R.jsx)(v.A,{onClick:O,startIcon:(0,R.jsx)(Z.A,{width:"18px"}),children:"\u5237\u65b0"})})})}),f&&(0,R.jsx)(u.A,{}),(0,R.jsx)(c(),{component:"div",children:(0,R.jsx)(s.A,{sx:{overflow:"unset"},children:(0,R.jsxs)(a.A,{sx:{minWidth:800},children:[(0,R.jsx)(N,{}),(0,R.jsx)(o.A,{children:e.slice(r*D.re,(r+1)*D.re).map((e=>(0,R.jsx)(V,{item:e,manageToken:q,handleOpenModal:$,setModalTokenId:M},e.id)))})]})})}),(0,R.jsx)(d.A,{page:r,component:"div",count:e.length+(e.length%D.re===0?1:0),rowsPerPage:D.re,onPageChange:(t,r)=>{(async()=>{r===Math.ceil(e.length/D.re)&&await P(r),i(r)})()},rowsPerPageOptions:[D.re]})]}),(0,R.jsx)(ke,{open:_,onCancel:L,onOk:e=>{!0===e&&(L(),O())},tokenId:I})]})}},6581:function(e,t,r){var n=r(4994);t.A=void 0;var l=n(r(39)),a=r(579);t.A=(0,l.default)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")},4109:function(e,t,r){var n=r(4994);t.A=void 0;var l=n(r(39)),a=r(579);t.A=(0,l.default)((0,a.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")},7254:function(e,t,r){r.d(t,{A:function(){return O}});var n=r(8587),l=r(8168),a=r(5043),o=r(8387),s=r(8606),i=r(7266),c=r(4350),d=r(4535),u=r(4162),h=r(6803),p=r(3336),x=r(7056),m=r(2400);function A(e){return(0,m.Ay)("MuiAlert",e)}var v=(0,x.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),y=r(7392),g=r(6734),j=r(579),k=(0,g.A)((0,j.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=(0,g.A)((0,j.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),b=(0,g.A)((0,j.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=(0,g.A)((0,j.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),w=r(6871);const _=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],S=(0,c.h)("MuiAlert"),I=(0,d.Ay)(p.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,h.A)(r.color||r.severity)}`]]}})((e=>{let{theme:t}=e;const r="light"===t.palette.mode?i.e$:i.a,n="light"===t.palette.mode?i.a:i.e$;return(0,l.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[l]=e;return{props:{colorSeverity:l,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${l}Color`]:r(t.palette[l].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${l}StandardBg`]:n(t.palette[l].light,.9),[`& .${v.icon}`]:t.vars?{color:t.vars.palette.Alert[`${l}IconColor`]}:{color:t.palette[l].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:r(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${v.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,l.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}}))]})})),M=(0,d.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),z=(0,d.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),P=(0,d.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),q={success:(0,j.jsx)(k,{fontSize:"inherit"}),warning:(0,j.jsx)(f,{fontSize:"inherit"}),error:(0,j.jsx)(b,{fontSize:"inherit"}),info:(0,j.jsx)(C,{fontSize:"inherit"})};var O=a.forwardRef((function(e,t){const r=S({props:e,name:"MuiAlert"}),{action:a,children:i,className:c,closeText:d="Close",color:p,components:x={},componentsProps:m={},icon:v,iconMapping:g=q,onClose:k,role:f="alert",severity:b="success",slotProps:C={},slots:O={},variant:$="standard"}=r,L=(0,n.A)(r,_),B=(0,l.A)({},r,{color:p,severity:b,variant:$,colorSeverity:p||b}),T=(e=>{const{variant:t,color:r,severity:n,classes:l}=e,a={root:["root",`color${(0,h.A)(r||n)}`,`${t}${(0,h.A)(r||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,s.A)(a,A,l)})(B),R={slots:(0,l.A)({closeButton:x.CloseButton,closeIcon:x.CloseIcon},O),slotProps:(0,l.A)({},m,C)},[W,F]=(0,u.A)("closeButton",{elementType:y.A,externalForwardedProps:R,ownerState:B}),[V,E]=(0,u.A)("closeIcon",{elementType:w.A,externalForwardedProps:R,ownerState:B});return(0,j.jsxs)(I,(0,l.A)({role:f,elevation:0,ownerState:B,className:(0,o.A)(T.root,c),ref:t},L,{children:[!1!==v?(0,j.jsx)(M,{ownerState:B,className:T.icon,children:v||g[b]||q[b]}):null,(0,j.jsx)(z,{ownerState:B,className:T.message,children:i}),null!=a?(0,j.jsx)(P,{ownerState:B,className:T.action,children:a}):null,null==a&&k?(0,j.jsx)(P,{ownerState:B,className:T.action,children:(0,j.jsx)(W,(0,l.A)({size:"small","aria-label":d,title:d,color:"inherit",onClick:k},F,{children:(0,j.jsx)(V,(0,l.A)({fontSize:"small"},E))}))}):null]}))}))}}]);
//# sourceMappingURL=101.281eedc6.chunk.js.map