{"version":3,"file":"static/js/585.8c17dc8f.chunk.js","mappings":"oNAKA,MAoDA,EApDcA,KACZ,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAaC,IAAkBF,EAAAA,EAAAA,WAAS,GAwB/C,OAJAG,EAAAA,EAAAA,YAAU,KAlBWC,WACnBL,EAASM,aAAaC,QAAQ,UAAY,IAC1C,MAAMC,QAAYC,EAAAA,GAAIC,IAAI,eACpB,QAAEC,EAAO,QAAEC,EAAO,KAAEC,GAASL,EAAIK,KACvC,GAAIF,EAAS,CACX,IAAIG,EAAeD,EACdA,EAAKE,WAAW,cACnBD,EAAeE,EAAAA,GAAOC,MAAMJ,IAE9Bb,EAASc,GACTR,aAAaY,QAAQ,QAASJ,EAChC,MACEK,EAAAA,EAAAA,IAAUP,GACVZ,EAAS,uDAEXG,GAAe,EAAK,EAIpBiB,GAAeC,MAAM,GACpB,KAGDC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAEItB,GAAyB,KAAVH,GAAeuB,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UAC5BC,EAAAA,EAAAA,MAACC,EAAAA,EAAO,CAAAF,SAAA,EACNF,EAAAA,EAAAA,KAACK,EAAAA,EAAM,CAACC,GAAG,KAAIJ,SAAC,kBAChBF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,+GAAmC,8CAEtCF,EAAAA,EAAAA,KAAA,KAAGO,KAAK,0CAAyCL,SAAC,kDAIhDF,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAEFzB,EAAMgB,WAAW,aAAcO,EAAAA,EAAAA,KAAA,UAC7BQ,IAAK/B,EACLgC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAASC,OAAQ,WAC9CZ,EAAAA,EAAAA,KAAA,OAAKS,MAAO,CAAEI,SAAU,UAAYC,wBAAyB,CAAEC,OAAQtC,QAIjF,C","sources":["pages/About/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Header, Segment } from 'semantic-ui-react';\nimport { API, showError } from '../../helpers';\nimport { marked } from 'marked';\n\nconst About = () => {\n  const [about, setAbout] = useState('');\n  const [aboutLoaded, setAboutLoaded] = useState(false);\n\n  const displayAbout = async () => {\n    setAbout(localStorage.getItem('about') || '');\n    const res = await API.get('/api/about');\n    const { success, message, data } = res.data;\n    if (success) {\n      let aboutContent = data;\n      if (!data.startsWith('https://')) {\n        aboutContent = marked.parse(data);\n      }\n      setAbout(aboutContent);\n      localStorage.setItem('about', aboutContent);\n    } else {\n      showError(message);\n      setAbout('加载关于内容失败...');\n    }\n    setAboutLoaded(true);\n  };\n\n  useEffect(() => {\n    displayAbout().then();\n  }, []);\n\n  return (\n    <>\n      {\n        aboutLoaded && about === '' ? <>\n          <Segment>\n            <Header as='h3'>关于</Header>\n            <p>可在设置页面设置关于内容，支持 HTML & Markdown</p>\n            项目仓库地址：\n            <a href='https://github.com/songquanpeng/one-api'>\n              https://github.com/songquanpeng/one-api\n            </a>\n          </Segment>\n        </> : <>\n          {\n            about.startsWith('https://') ? <iframe\n              src={about}\n              style={{ width: '100%', height: '100vh', border: 'none' }}\n            /> : <div style={{ fontSize: 'larger' }} dangerouslySetInnerHTML={{ __html: about }}></div>\n          }\n        </>\n      }\n    </>\n  );\n};\n\n\nexport default About;\n"],"names":["About","about","setAbout","useState","aboutLoaded","setAboutLoaded","useEffect","async","localStorage","getItem","res","API","get","success","message","data","aboutContent","startsWith","marked","parse","setItem","showError","displayAbout","then","_jsx","_Fragment","children","_jsxs","Segment","Header","as","href","src","style","width","height","border","fontSize","dangerouslySetInnerHTML","__html"],"sourceRoot":""}